\hypertarget{test__data__base_8h_source}{}\doxysection{test\+\_\+data\+\_\+base.\+h}
\label{test__data__base_8h_source}\index{test\_data\_base.h@{test\_data\_base.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef LIBWFA\_TEST\_DATA\_BASE\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define LIBWFA\_TEST\_DATA\_BASE\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <armadillo>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <libwfa/core/ab\_matrix.h>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{keyword}{namespace }libwfa \{}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 }
\DoxyCodeLine{15 \textcolor{keyword}{class }\mbox{\hyperlink{classlibwfa_1_1test__data__base}{test\_data\_base}} \{}
\DoxyCodeLine{16 \textcolor{keyword}{private}:}
\DoxyCodeLine{17     std::string m\_prefix; }
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{public}:}
\DoxyCodeLine{23     \mbox{\hyperlink{classlibwfa_1_1test__data__base_a5ba0d01f387dadb3d03ea20b19b75988}{test\_data\_base}}(\textcolor{keyword}{const} std::string \&prefix) : m\_prefix(prefix) \{ \}}
\DoxyCodeLine{24 }
\DoxyCodeLine{27     \textcolor{keyword}{virtual} \mbox{\hyperlink{classlibwfa_1_1test__data__base_a9846dd87a690b2d1276a22b06fca2e9b}{\string~test\_data\_base}}() \{ \}}
\DoxyCodeLine{28 }
\DoxyCodeLine{35     \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{36     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classlibwfa_1_1test__data__base_adef755d3c59d6a7dbb7ed69c6d04910b}{read\_matrix}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *testname,}
\DoxyCodeLine{37         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fname, arma::Mat<T> \&m) \textcolor{keyword}{const};}
\DoxyCodeLine{38 }
\DoxyCodeLine{45     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classlibwfa_1_1test__data__base_a476e77eb0fa71a328661b92991cc920e}{read\_double}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *testname,}
\DoxyCodeLine{46         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fname, \textcolor{keywordtype}{double} \&d) \textcolor{keyword}{const};}
\DoxyCodeLine{47 }
\DoxyCodeLine{52     std::string \mbox{\hyperlink{classlibwfa_1_1test__data__base_a7a6020ecec9bf95967b8233869670fac}{make\_filename}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *fname) \textcolor{keyword}{const};}
\DoxyCodeLine{53 \};}
\DoxyCodeLine{54 }
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{57 \textcolor{keywordtype}{bool} \mbox{\hyperlink{classlibwfa_1_1test__data__base_adef755d3c59d6a7dbb7ed69c6d04910b}{test\_data\_base::read\_matrix}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *testname,}
\DoxyCodeLine{58     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fname, arma::Mat<T> \&m)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{59 }
\DoxyCodeLine{60     std::ifstream in(\mbox{\hyperlink{classlibwfa_1_1test__data__base_a7a6020ecec9bf95967b8233869670fac}{make\_filename}}(fname).c\_str());}
\DoxyCodeLine{61     \textcolor{keywordflow}{if} (in.fail()) \{}
\DoxyCodeLine{62         std::cout << \textcolor{stringliteral}{"{}in.fail()"{}} << std::endl;}
\DoxyCodeLine{63         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{64     \}}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keywordtype}{int} nr = 0, nc = 0;}
\DoxyCodeLine{67     in >> nr  >> nc;}
\DoxyCodeLine{68 }
\DoxyCodeLine{69     \textcolor{keywordflow}{if} (nr != m.n\_rows) \{}
\DoxyCodeLine{70         std::cout << \textcolor{stringliteral}{"{}Wrong number of rows"{}} << std::endl;}
\DoxyCodeLine{71         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{72     \}}
\DoxyCodeLine{73     \textcolor{keywordflow}{if} (nc != m.n\_cols) \{}
\DoxyCodeLine{74         std::cout << \textcolor{stringliteral}{"{}Wrong number of cols"{}} << std::endl;}
\DoxyCodeLine{75         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77 }
\DoxyCodeLine{78     T *ptr = m.memptr();}
\DoxyCodeLine{79 }
\DoxyCodeLine{80     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < m.n\_elem \&\& in.good(); i++, ptr++) in >> *ptr;}
\DoxyCodeLine{81 }
\DoxyCodeLine{82     \textcolor{keywordflow}{if} (in.fail()) \{}
\DoxyCodeLine{83         std::cout << \textcolor{stringliteral}{"{}in.fail() 2"{}} << std::endl;}
\DoxyCodeLine{84         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{85     \}}
\DoxyCodeLine{86 }
\DoxyCodeLine{87     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{88 \}}
\DoxyCodeLine{89 }
\DoxyCodeLine{90 }
\DoxyCodeLine{91 \} \textcolor{comment}{// namespace libwfa}}
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// LIBWFA\_TEST\_DATA\_BASE\_H}}

\end{DoxyCode}
