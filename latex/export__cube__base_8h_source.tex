\hypertarget{export__cube__base_8h_source}{}\doxysection{export\+\_\+cube\+\_\+base.\+h}
\label{export__cube__base_8h_source}\index{export\_cube\_base.h@{export\_cube\_base.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef LIBWFA\_EXPORT\_CUBE\_BASE\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define LIBWFA\_EXPORT\_CUBE\_BASE\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}export\_cube\_i.h"{}}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}grid3d.h"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{keyword}{namespace }libwfa \{}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 }
\DoxyCodeLine{39 \textcolor{keyword}{class }\mbox{\hyperlink{classlibwfa_1_1export__cube__base}{export\_cube\_base}} : \textcolor{keyword}{public} \mbox{\hyperlink{classlibwfa_1_1export__cube__i}{export\_cube\_i}} \{}
\DoxyCodeLine{40 \textcolor{keyword}{public}:}
\DoxyCodeLine{41     \textcolor{keyword}{static} \textcolor{keyword}{const} \textcolor{keywordtype}{char} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_ace78b2e152909b49f03a82077e5addba}{k\_clazz}}[]; }
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{keyword}{private}:}
\DoxyCodeLine{44     \textcolor{keyword}{struct }dm\_data \{}
\DoxyCodeLine{45         std::string desc; }
\DoxyCodeLine{46         \textcolor{keyword}{const} arma::mat data; }
\DoxyCodeLine{47 }
\DoxyCodeLine{48         dm\_data(\textcolor{keyword}{const} std::string \&d, \textcolor{keyword}{const} arma::mat \&dm) :}
\DoxyCodeLine{49             desc(d), data(dm) \{ \}}
\DoxyCodeLine{50     \};}
\DoxyCodeLine{51     \textcolor{keyword}{struct }orb\_data \{}
\DoxyCodeLine{52         std::string desc; }
\DoxyCodeLine{53         std::vector<size\_t> idx; }
\DoxyCodeLine{54         arma::mat data; }
\DoxyCodeLine{55 }
\DoxyCodeLine{56         orb\_data(\textcolor{keyword}{const} std::string \&d, \textcolor{keyword}{const} std::vector<size\_t> \&i,}
\DoxyCodeLine{57             \textcolor{keyword}{const} arma::mat \&orb) : desc(d), idx(i), data(orb) \{ \}}
\DoxyCodeLine{58     \};}
\DoxyCodeLine{59     \textcolor{keyword}{typedef} std::map<std::string, dm\_data *> dm\_list;}
\DoxyCodeLine{60     \textcolor{keyword}{typedef} std::map<std::string, orb\_data *> orb\_list;}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 \textcolor{keyword}{private}:}
\DoxyCodeLine{63     grid3d m\_grid; }
\DoxyCodeLine{64     \textcolor{keyword}{const} arma::uvec \&m\_atnum; }
\DoxyCodeLine{65     \textcolor{keyword}{const} arma::mat \&m\_coords; }
\DoxyCodeLine{66     dm\_list m\_dms; }
\DoxyCodeLine{67     orb\_list m\_orbs; }
\DoxyCodeLine{68     std::string m\_prefix; }
\DoxyCodeLine{69     std::string m\_comment; }
\DoxyCodeLine{70     \textcolor{keywordtype}{size\_t} m\_batchsz; }
\DoxyCodeLine{71     \textcolor{keywordtype}{size\_t} m\_nmax; }
\DoxyCodeLine{72 }
\DoxyCodeLine{73 \textcolor{keyword}{public}:}
\DoxyCodeLine{83     \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a2188d89f88c24594179475165c6ac345}{export\_cube\_base}}(}
\DoxyCodeLine{84         \textcolor{keyword}{const} \mbox{\hyperlink{classlibwfa_1_1grid3d}{grid3d}} \&\mbox{\hyperlink{classlibwfa_1_1export__cube__base_af07b3730e305bbe70c50fc0a74e62b9a}{grid}},}
\DoxyCodeLine{85         \textcolor{keyword}{const} arma::uvec \&atnum,}
\DoxyCodeLine{86         \textcolor{keyword}{const} arma::mat \&coord,}
\DoxyCodeLine{87         \textcolor{keyword}{const} std::string \&prefix = \textcolor{stringliteral}{"{}"{}},}
\DoxyCodeLine{88         \textcolor{keywordtype}{size\_t} batchsz = 0,}
\DoxyCodeLine{89         \textcolor{keywordtype}{size\_t} nmax = 0,}
\DoxyCodeLine{90         \textcolor{keyword}{const} std::string \&comment = \textcolor{stringliteral}{"{}Generated by libwfa"{}});}
\DoxyCodeLine{91 }
\DoxyCodeLine{94     \textcolor{keyword}{virtual} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a6ed4a628799a97f356e3baca2eb92d63}{\string~export\_cube\_base}}() \{}
\DoxyCodeLine{95         clear\_data();}
\DoxyCodeLine{96     \}}
\DoxyCodeLine{97 }
\DoxyCodeLine{100     \textcolor{keyword}{const} \mbox{\hyperlink{classlibwfa_1_1grid3d}{grid3d}} \&\mbox{\hyperlink{classlibwfa_1_1export__cube__base_af07b3730e305bbe70c50fc0a74e62b9a}{grid}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_grid; \}}
\DoxyCodeLine{101 }
\DoxyCodeLine{104     \textcolor{keyword}{const} arma::uvec \&\mbox{\hyperlink{classlibwfa_1_1export__cube__base_a18a43cce830a45495c0d0ad711b8ab2b}{atomic\_numbers}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_atnum; \}}
\DoxyCodeLine{105 }
\DoxyCodeLine{108     \textcolor{keyword}{const} arma::mat \&\mbox{\hyperlink{classlibwfa_1_1export__cube__base_a474859bc08cdaad8aab678d89dcdf569}{atomic\_coordinates}}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} m\_coords; \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{112     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a7e8f5d74f5003b24c4686b7f04e7d1bf}{perform}}(\textcolor{keyword}{const} std::string \&name, \textcolor{keyword}{const} std::string \&desc,}
\DoxyCodeLine{113         \textcolor{keyword}{const} arma::mat \&mat, \textcolor{keywordtype}{int} do\_esp=0);}
\DoxyCodeLine{114 }
\DoxyCodeLine{118     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a077e4bfc15349ef1b3fcabfe76ad40f6}{perform}}(\textcolor{keyword}{const} std::string \&name, \textcolor{keyword}{const} std::string \&desc,}
\DoxyCodeLine{119         \textcolor{keyword}{const} std::vector<size\_t> \&idx, \textcolor{keyword}{const} arma::mat \&vecs);}
\DoxyCodeLine{120 }
\DoxyCodeLine{123     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_ae02649f9d2709b949b1dcd97072aefb7}{do\_export}}();}
\DoxyCodeLine{124 }
\DoxyCodeLine{130     \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a40177de88eb2b5c60c56acb15846aadd}{export\_esp}}(\textcolor{keyword}{const} std::string \&name, \textcolor{keyword}{const} std::string \&desc,}
\DoxyCodeLine{131         \textcolor{keyword}{const} arma::mat \&dens, \textcolor{keywordtype}{int} do\_esp);}
\DoxyCodeLine{132 }
\DoxyCodeLine{133 \textcolor{keyword}{protected}:}
\DoxyCodeLine{154     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a63eb20c4ed40efe3311055eabd1cdbf6}{evaluate\_on\_grid}}(\textcolor{keyword}{const} arma::mat \&pts,}
\DoxyCodeLine{155             \textcolor{keywordtype}{size\_t} npts, arma::mat \&b2g) = 0;}
\DoxyCodeLine{156 }
\DoxyCodeLine{166     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_a25df926a669d43ce0c278fa0de7799dd}{evaluate\_esp}}(\textcolor{keyword}{const} arma::mat \&pts,}
\DoxyCodeLine{167             \textcolor{keywordtype}{size\_t} npts, \textcolor{keyword}{const} arma::mat \&dens, arma::vec \&esp) = 0;}
\DoxyCodeLine{168 }
\DoxyCodeLine{174     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classlibwfa_1_1export__cube__base_aece6958c1042882cb8b01b407941a3ed}{nuc\_esp}}(\textcolor{keyword}{const} arma::mat \&pts, \textcolor{keywordtype}{size\_t} npts, arma::vec \&esp);}
\DoxyCodeLine{175 }
\DoxyCodeLine{176 }
\DoxyCodeLine{177 \textcolor{keyword}{private}:}
\DoxyCodeLine{178     \textcolor{keywordtype}{void} clear\_data();}
\DoxyCodeLine{179 \};}
\DoxyCodeLine{180 }
\DoxyCodeLine{181 }
\DoxyCodeLine{182 \} \textcolor{comment}{// namespace libwfa}}
\DoxyCodeLine{183 }
\DoxyCodeLine{184 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// LIBWFA\_EXPORT\_CUBE\_BASE\_H}}

\end{DoxyCode}
